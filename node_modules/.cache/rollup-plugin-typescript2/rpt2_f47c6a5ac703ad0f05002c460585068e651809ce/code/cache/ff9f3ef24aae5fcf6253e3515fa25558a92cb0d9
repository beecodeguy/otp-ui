{"code":"import { __spreadArray } from \"tslib\";\nimport React, { useCallback, useEffect, useRef, useState, } from \"react\";\nimport { cn } from \"../utils\";\nvar OTPField = function (_a) {\n    var _b = _a.otpFieldCount, otpFieldCount = _b === void 0 ? 4 : _b, handleOTPVerification = _a.handleOTPVerification, error = _a.error, className = _a.className;\n    var _c = useState(Array(otpFieldCount).fill(\"\")), password = _c[0], setPassword = _c[1];\n    var itemsRef = useRef([]);\n    useEffect(function () {\n        //Handle onInputFilled\n        if (password.every(function (val) { return val !== \"\"; })) {\n            var otp = password.join(\"\");\n            handleOTPVerification === null || handleOTPVerification === void 0 ? void 0 : handleOTPVerification(otp);\n        }\n    }, [password, handleOTPVerification]);\n    var passwordSetter = function (value, index) {\n        setPassword(function (prev) {\n            var newPassword = __spreadArray([], prev, true);\n            newPassword[index] = value;\n            return newPassword;\n        });\n    };\n    var handleChange = useCallback(function (e, i) {\n        var value = e.target.value;\n        passwordSetter(value, i);\n        // Focus to next input on value change\n        if (value != \"\" && i < otpFieldCount - 1) {\n            itemsRef.current[i + 1].focus();\n        }\n    }, [otpFieldCount]);\n    // Handles Key strokes\n    var handleKeyDown = function (e, i) {\n        {\n            if (e.key === \"ArrowRight\" || e.key === \"ArrowLeft\") {\n                var nextIndex = (i + (e.key === \"ArrowRight\" ? 1 : otpFieldCount - 1)) %\n                    otpFieldCount;\n                itemsRef.current[nextIndex].focus();\n            }\n            if (e.key === \"Backspace\" && itemsRef.current[i].value !== \"\") {\n                e.preventDefault();\n                itemsRef.current[i].value = \"\";\n                passwordSetter(\"\", i);\n                if (i > 0)\n                    itemsRef.current[i - 1].focus();\n            }\n        }\n    };\n    return (React.createElement(\"div\", { className: cn(\"text-center flex flex-col justify-center items-center\", className) },\n        React.createElement(\"div\", { className: \"flex space-x-4\" }, Array(otpFieldCount)\n            .fill(\"\")\n            .map(function (_, index) { return (React.createElement(\"input\", { \n            // eslint-disable-next-line react/no-array-index-key\n            key: index, ref: function (ref) { return (itemsRef.current[index] = ref); }, onChange: function (e) { return handleChange(e, index); }, className: \"w-[40px] h-[40px] p-2 outline-none border border-slate-400 focus:border-green-500\", type: \"text\", maxLength: 1, inputMode: \"numeric\", onKeyDown: function (e) { return handleKeyDown(e, index); } })); })),\n        React.createElement(\"span\", { className: \"text-red-600\" }, error)));\n};\nexport default OTPField;\n//# sourceMappingURL=otp-ui.js.map","references":["/Users/beezay/coding/packages/otp-ui/node_modules/@types/react/index.d.ts","/Users/beezay/coding/packages/otp-ui/src/types.ts","/Users/beezay/coding/packages/otp-ui/src/utils.ts"],"map":"{\"version\":3,\"file\":\"otp-ui.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../src/components/otp-ui.tsx\"],\"names\":[],\"mappings\":\"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\"}","dts":{"name":"/Users/beezay/coding/packages/otp-ui/node_modules/.cache/rollup-plugin-typescript2/placeholder/components/otp-ui.d.ts","writeByteOrderMark":false,"text":"import React from \"react\";\nimport { OTPFieldsInterface } from \"../types\";\ndeclare const OTPField: ({ otpFieldCount, handleOTPVerification, error, className, }: OTPFieldsInterface) => React.JSX.Element;\nexport default OTPField;\n"}}
